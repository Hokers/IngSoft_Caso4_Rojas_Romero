\documentclass[12pt]{article}
%\usepackage[english]{babel}
\RequirePackage[spanish]{babel}
\usepackage[spanish]{babel}
\usepackage{graphicx}

%\usepackage[pdftex,bookmarks,colorlinks,breaklinks]{hyperref}  % PDF hyperlinks, with coloured links
%\usepackage[spanish]{babel}
\usepackage[pdftex,bookmarks,breaklinks]{hyperref}  % PDF hyperlinks, with coloured links
%\usepackage[spanish]{babel}
\usepackage[utf8]{inputenc}

\usepackage{epstopdf}
\usepackage{fullpage}
\usepackage{url}
\usepackage{colortbl}
\usepackage{xcolor}
\usepackage{lscape}
\usepackage{float}
\usepackage{longtable}
\usepackage{glossaries}

\renewcommand{\baselinestretch}{1.5}
\usepackage{multirow}
\parskip 3ex % espacio entre parrafos.
\makeatletter
\renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}%
	{-2.5ex\@plus -1ex \@minus -.25ex}%
	{1.25ex \@plus .25ex}%
	{\normalfont\normalsize\bfseries}}
\makeatother
\setcounter{secnumdepth}{4} % how many sectioning levels to assign numbers to
\setcounter{tocdepth}{4}    % how many sectioning levels to show in ToC

\begin{document}
%%%%%%%%%%%%%%% PORTADA %%%%%%%%%%%%%%%%%%
\pagestyle{empty}
\begin{figure}
   \centering
   \includegraphics[scale=.5]{imgs/logo_utal.png}
\end{figure}

\begin{center}
Facultad de Ingeniería\\
Escuela de Ingeniería en Bioinformática\\
Ingeniería de Software\\
\bigskip\bigskip\bigskip\bigskip


\rule{14cm}{0.5mm}

\begin{Huge}\textbf{App ``Museo en casa", documento técnico}\end{Huge}

\rule{14cm}{0.5mm}

\bigskip\bigskip\bigskip\bigskip
\bigskip\bigskip\bigskip\bigskip
\bigskip\bigskip\bigskip\bigskip
%\bigskip\bigskip\bigskip\bigskip
%\bigskip\bigskip\bigskip\bigskip

\begin{tabular*}{14cm}{l@{\extracolsep{\fill}}r}
\textbf{\emph{Integrantes:}} & \textbf{\emph{Profesor:}}\\
José Rojas & Felipe Besoain\\
Nicolás Romero & \textbf{\emph{Ayudante:}}\\
                   & José Riffo\\
\end{tabular*}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\pagestyle{plain}
\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\listoffigures 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\listoftables


%%%%%%% INTRODUCCIÓN %%%%%%%%%%%%%%%%
\newpage
\input{cap/Introduccion.tex}

%%%%%%% PLANIFICACIÓN DE TRABAJO %%%%%%%%%%%%
\newpage
\input{cap/Planificacion_del_trabajo.tex}

%%%%%%%%%% ANALISIS %%%%%%%%%%%%%%
\newpage
\input{cap/Analisis.tex}

%%%%%%%%% VALIDACION %%%%%%%%%%%
\newpage
\input{cap/Validacion.tex}

%%%%%%%%%%% DISEÑO %%%%%%%%%%%%%
%%%% Latex no permite el uso de 3 subsection por lo que \paragraph fue modificado para que cumpla con las caracteristicas de una subsection

\newpage
\section{Diseño}

\subsection{Derivación del Modelo de Software}
\subsubsection{Modelo de software inicial}
La aplicación “Museo en casa” a sido diseñada como una app monolítica, es decir que no requiere de una conexión externa para su funcionamiento, a pesar de esto se puede dividir a presentación de 3 capas debido a su funcionamiento interno con características similares.

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Modelo3Capas.png}}
\caption{Modelo de 3 Capas}
\label{fig_3Capas}
\end{figure}

Capa presentación:

GameInfoView: Este visualizador permite mostrar el menú de visualización y es el contenedor donde la información es mostrada al usuario, este se utiliza para mostrar información de las piezas, museos y logros correspondientes.

TutorialView: Este módulo se encarga de mostrar toda la información correspondiente del tutorial, además de guiar al usuario para poder realizar las primeras acciones en la app.

Museum Piece Handler: Este módulo se encarga de la manipulación completa de la pieza de museo seleccionada, permite el zoom in/out, rotación, movimiento, etc.

Gameplay Manager:  Este manager se encarga de el flujo correcto del juego, las acciones del usuario, la información que será mostrada, el funcionamiento de las piezas dentro del museo, la notificación de los logros obtenidos y el correcto cierre de los menús.

Capa dominio:

Search Manager: Se encarga de buscar las piezas, logros y museos que se encuentran almacenados en la base de datos de la app.

Info Manager: Maneja la información correspondiente y se asegura de que esta sea correcta para  los logros, piezas y museos los cuales serán enviados al Gameplay Manager, para ser mostrados al usuario.

Info User Manager: Maneja la información obtenida en el momento que se registra el usuario y la envía a la base de datos de los usuarios de la app.

Vuforia Connect: El sistema se conecta a la Vuforia QR DB que contiene los códigos QR para la carga de información correspondiente.

Capa base de datos:

Info Base DB: Esta base de datos almacena la información correspondiente a los logros, piezas y museos, estos datos serán tomados por el Info Manager para su uso.

Vuforia QR DB: Esta base de datos almacena los códigos QR de cada museo registrado en la app. 


\subsubsection{Diagramas de Clases}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/uml.png}}
\caption{Diagrama de clase UML}
\label{fig_UML}
\end{figure}

\subsubsection{Diagramas de Interacción}

Los siguientes diagramas muestran objetos del sistema, así como los mensajes que se pasan entre ellos dentro del caso de uso.


\paragraph{Diagrama de Interacción Caso 1.1}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Interaccion_1.png}}
\caption{Diagrama de Interacción Caso 1.1}
\label{fig_I_1}
\end{figure}

\paragraph{Diagrama de Interacción Caso 1.2}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Interaccion_2.png}}
\caption{Diagrama de Interacción Caso 1.2}
\label{fig_I_2}
\end{figure}

\paragraph{Diagrama de Interacción Caso 1.3}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Interaccion_3.png}}
\caption{Diagrama de Interacción Caso 1.3}
\label{fig_I_3}
\end{figure}

\paragraph{Diagrama de Interacción Caso 1.4}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Interaccion_4.png}}
\caption{Diagrama de Interacción Caso 1.4}
\label{fig_I_4}
\end{figure}

\paragraph{Diagrama de Interacción Caso 1.5}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Interaccion_5.png}}
\caption{Diagrama de Interacción Caso 1.5}
\label{fig_I_5}
\end{figure}

\paragraph{Diagrama de Interacción Caso 1.6}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Interaccion_6.png}}
\caption{Diagrama de Interacción Caso 1.6}
\label{fig_I_6}
\end{figure}

\paragraph{Diagrama de Interacción Caso 1.7}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Interaccion_7.png}}
\caption{Diagrama de Interacción Caso 1.7}
\label{fig_I_7}
\end{figure}

\paragraph{Diagrama de Interacción Caso 1.8}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Interaccion_8.png}}
\caption{Diagrama de Interacción Caso 1.8}
\label{fig_I_8}
\end{figure}

\subsubsection{Diagramas de Estados}
Los diagramas de estado muestran el conjunto de estados por los cuales pasa un objeto durante su vida en una aplicación en respuesta a eventos. En este caso se muestra los estados que que se establecen los casos de uso en cuestión.

\paragraph{Diagrama de Estado Caso 1.1}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Estados_1_1.png}}
\caption{Diagrama de Estado Parte 1 Caso 1.1}
\label{fig_E_1}
\end{figure}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Estados_1_2.png}}
\caption{Diagrama de Estado Parte 2 Caso 1.1}
\label{fig_E_1_1}
\end{figure}

\paragraph{Diagrama de Estado Caso 1.2}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Estados_2.png}}
\caption{Diagrama de Estado  Caso 1.2}
\label{fig_E_2}
\end{figure}

\paragraph{Diagrama de Estado Caso 1.3}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Estados_3.png}}
\caption{Diagrama de Estado  Caso 1.3}
\label{fig_E_3}
\end{figure}

\paragraph{Diagrama de Estado Caso 1.4}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Estados_4.png}}
\caption{Diagrama de Estado  Caso 1.4}
\label{fig_E_4}
\end{figure}

\paragraph{Diagrama de Estado Caso 1.5}
\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Estados_5.png}}
\caption{Diagrama de Estado  Caso 1.5}
\label{fig_E_5}
\end{figure}

\paragraph{Diagrama de Estado Caso 1.6}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Estados_6_1.png}}
\caption{Diagrama de Estado 1 Caso 1.6}
\label{fig_E_6_1}
\end{figure}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Estados_6_2.png}}
\caption{Diagrama de Estado 2 Caso 1.6}
\label{fig_E_6_2}
\end{figure}

\paragraph{Diagrama de Estado Caso 1.7}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Estados_7.png}}
\caption{Diagrama de Estado Caso 1.7}
\label{fig_E_7}
\end{figure}

\paragraph{Diagrama de Estado Caso 1.8}

\begin{figure}[H]
\centerline{\includegraphics[width=15cm]{imgs/Estados_8.png}}
\caption{Diagrama de Estado Caso 1.8}
\label{fig_E_8}
\end{figure}

\subsection{Refinamientos}

\subsubsection{Lugar de Refinamiento}

\subparagraph{Estructuración de información}
Existe la posibilidad de tener el sistema de guardado de datos de usuario fuera de la aplicación.

\subparagraph{Especificaciones de clases}
Existen clases como las dedicadas a presentar "panel Info" y a controlar "GameManager" que se encargan de demasiadas acciones dentro de la aplicación.

\subparagraph{Feedback de usuario}
Existen posibles mejoras dentro de la aplicación orientada a la comodidad del usuario en pos de una control de desplazamiento más cómodo.

\subparagraph{Eficiencia técnica}
existen diferentes consideraciones orientada al uso del procesador dentro de lo que a prestar apoyo gráfico se refiere.


\subsubsection{Para cada Lugar}
\paragraph{Refinamientos considerados}

Dentro de las características principales de esta aplicación se han descubierto posibles mejoras a futuro dentro de los diferentes módulos de desarrollo, en el siguiente  texto se describe la posible mejora y se localiza su ubicación en el proyecto.

Los siguientes refinamientos fueron evaluados “a pulso”.

\subparagraph{\textbf{Información de usuario}}
Hasta ahora la información de los usuarios solo es administrada de manera local en el dispositivo que ejecuta la aplicación, esta puede ser lleva a un servidor externo para poder tener un seguimiento directo de los usuarios de la aplicación además de abrir la posibilidad de que los usuarios no pierdan la información si esta es borrada del dispositivo.
estos cambios implica la adaptación de los módulos de conexión a la información para un funcionamiento con estos servidores externos y sigue los lineamiento de un patrón enfocado a la seguridad informática.

\subparagraph{\textbf{Desplazamiento del jugador}}
Dentro de los interacciones básicas de el jugador con el museo existe la posibilidad de desplazarse entre habitaciones, esta interacción puede ser extendida a las herramientas de control táctil “Slide”, el ampliar este input genera una mayor facilidad al usuario para desplazarse dentro de la aplicación.

\subparagraph{\textbf{Visualización de modelos 3D}}
Existen diferentes lugares dentro del flujo de la aplicación que presentan al usuario los modelados digitales a los usuarios, a pesar de esto no en todos estos momentos se interacciona con este elemento por lo que vuelve ese renderizado en un costo de proceso extra para el dispositivo, esto elementos podrán ser reemplazados por imágenes pre renderizadas para reducir el costo de procesamiento de estos elementos.

\subparagraph{\textbf{Especificación de Presentadores}}
La clase “InfoPanel” es la encargada de presentar  al usuario la información necesaria, esta se aplica al momento de presentar la información de los diferentes elementos de la aplicación (trofeos, piezas, museos), esta arquitectura limita las interacciones específicas que pueden estar relacionadas a cada uno de los tipos de elementos (por ejemplo el poder compartir relacionado mayormente a los trofeos y las piezas relacionadas a obtener más información) por lo que se optara a la implementación de diferentes presentadores de información que obedezcan a una misma lógica pero que cada clase se especifique a destacar estas relaciones.

\subparagraph{\textbf{Especificación de controladores}}
La clase “GameplayManager” controla toda las interacciones básicas del usuario dentro del museo lo que genera una responsabilidad extra para esta clase, es posible dividir esta carga creando controladores de movimiento e interacción lo que facilitará la integración de estas funcionalidades al momento de ser codificadas.

\subparagraph{\textbf{Consolidación de clases establecidas en el UML}}
Durante la realización del prototipo se crearon las clases definidas anteriormente en el UML, pero debido a fallas en la comunicación del equipo, se realizo el código que correspondía a la clase `Gameplay Manager' en una nueva clase que no se encuentra en el UML denominada `MuseumRoomSwitcher', el contenido de esta clase realiza lo que se tenia planeado para la clase `Gameplay Manager', luego de que el equipo analizo esta situación, decidió eliminar la clase `MuseumRoomSwitcher' pero antes migrando el código de esta a la clase que estaba estipulada en el diagrama UML, de esta forma se mantiene la planificación realizada por el equipo y se mantienen los estándares del código en cuestión.

%\paragraph{Selección y descripción de una opción}
%******* esto esta descrito arriba asi que no se si separar lo de arriba o ignoralo *******


%%%%%%%%%%%%%% IMPLEMENTACION %%%%%%%%%%
\newpage
\input{cap/Implementacion.tex}

%%%%%%%%%%%%%%%% ANEXOS %%%%%%%%%%%%%%%%5
\newpage
\input{cap/Anexos.tex}
\end{document}
